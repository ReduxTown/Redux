<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Redux Hub</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
body{background:#000;margin:0;font-family:Segoe UI;color:#eee}
#gui{
 position:fixed;top:80px;left:80px;
 width:360px;background:#111;border:1px solid #222;
 border-radius:8px;z-index:9999
}
#header{
 padding:10px;background:#0b0b0b;
 cursor:move;font-weight:700;color:#00bfff
}
#content{padding:12px}
input,button{width:100%;margin:5px 0;padding:8px;border:none;border-radius:6px}
button{background:#00bfff;color:#000;font-weight:700;cursor:pointer}
.toggle{display:flex;justify-content:space-between;margin:6px 0}
.chat{height:160px;overflow-y:auto;background:#050505;padding:6px;border-radius:6px}
.msg{font-size:13px;margin-bottom:4px}
.owner{color:#ff4747}
.verified{color:#3cff7a}
</style>
</head>

<body>

<div id="gui">
 <div id="header">Redux Hub</div>
 <div id="content">

  <input id="keyInput" placeholder="Enter key">
  <button onclick="unlock()">Unlock</button>

  <input id="ownerCode" placeholder="Owner code">
  <button onclick="setOwner()">Claim Owner</button>

  <div class="toggle"><span>ESP</span><input type="checkbox"></div>
  <div class="toggle"><span>Aimbot</span><input type="checkbox"></div>
  <div class="toggle"><span>Silent Aim</span><input type="checkbox"></div>

  <div class="chat" id="chat"></div>
  <input id="chatInput" placeholder="Message">
  <button onclick="send()">Send</button>

 </div>
</div>

<script>
/* ðŸ”¥ FIREBASE CONFIG */
firebase.initializeApp({
 apiKey: "AIzaSyBDe4NoreGgY9XLXriwqy7w8pE0W-x0J2s",
 authDomain: "redux-hub-dc50d.firebaseapp.com",
 databaseURL: "https://redux-hub-dc50d-default-rtdb.firebaseio.com",
 projectId: "redux-hub-dc50d",
});
const db = firebase.database();

/* HWID (WEB SAFE) */
const hwid = btoa(navigator.userAgent + screen.width + screen.height);

/* USER STATE */
let user = JSON.parse(localStorage.getItem("reduxUser")) || {
 name: "Guest_" + Math.floor(Math.random()*9000),
 verified:false,
 owner:false
};
localStorage.setItem("reduxUser",JSON.stringify(user));

/* KEY SYSTEM */
async function unlock(){
 const key = keyInput.value;
 const snap = await db.ref("keys/"+key).get();
 if(!snap.exists()) return alert("Invalid key");
 if(snap.val().hwid && snap.val().hwid !== hwid)
  return alert("Key already used");

 await db.ref("keys/"+key).set({hwid});
 alert("Unlocked");
}

/* OWNER CODE */
async function setOwner(){
 const code = ownerCode.value;
 const snap = await db.ref("ownerCode").get();
 if(snap.val() === code){
  user.owner = true;
  localStorage.setItem("reduxUser",JSON.stringify(user));
  alert("OWNER granted");
 } else alert("Invalid code");
}

/* CHAT */
const chatBox=document.getElementById("chat");
db.ref("chat").limitToLast(50).on("child_added",s=>{
 const m=s.val();
 const div=document.createElement("div");
 div.className="msg";
 div.innerHTML=
  `<b class="${m.owner?'owner':m.verified?'verified':''}">
   ${m.name}</b>: ${m.text}`;
 chatBox.appendChild(div);
 chatBox.scrollTop=9999;
});

function send(){
 const text=chatInput.value;
 if(!text)return;
 db.ref("chat").push({
  name:user.name,
  verified:user.verified,
  owner:user.owner,
  text
 });
 chatInput.value="";
}

/* DRAG */
let g=document.getElementById("gui"),h=document.getElementById("header");
h.onmousedown=e=>{
 let x=e.clientX,y=e.clientY;
 document.onmousemove=m=>{
  g.style.left=g.offsetLeft+(m.clientX-x)+"px";
  g.style.top=g.offsetTop+(m.clientY-y)+"px";
  x=m.clientX;y=m.clientY;
 };
 document.onmouseup=()=>document.onmousemove=null;
};
</script>

</body>
</html>
